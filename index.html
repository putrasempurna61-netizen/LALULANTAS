<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaluLantas - Education Traffic Website</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #007bff;
            --primary-hover: #0056b3;
            --white-color: #ffffff;
            --bg-light: #f8f9fa;
            --text-dark: #212529;
            --text-light: #6c757d;
            --border-color: #dee2e6;
            --correct-color: #28a745;
            --wrong-color: #dc3545;
            --border-radius: 8px;
            --font-family: 'Poppins', sans-serif;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        body {
            font-family: var(--font-family);
            line-height: 1.8;
            background-color: #121212;
            color: #e0e0e0;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 0 2rem; }
        header {
            background-color: rgba(28, 28, 28, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        nav { display: flex; justify-content: space-between; align-items: center; height: 70px; }
        .logo { text-decoration: none; display: flex; align-items: center; }
        .logo img { height: 40px; width: auto; margin-right: 10px; }
        .logo span { font-size: 1.5rem; font-weight: 700; color: #e0e0e0; transition: color 0.3s ease; }
        nav ul { display: flex; list-style: none; align-items: center; }
        nav ul li { margin-left: 1.5rem; }
        nav ul li a { text-decoration: none; color: #e0e0e0; font-weight: 600; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--primary-color); }
        .hero {
            background-color: #121212;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: 70px; 
            transition: background-color 0.3s ease;
        }
        .hero-content { display: flex; flex-direction: column; align-items: center; }
        .hero-content h1 { font-size: 3rem; font-weight: 700; margin-bottom: 1rem; line-height: 1.2; transition: color 0.3s ease;}
        .hero-content p { font-size: 1.2rem; color: #a0a0a0; max-width: 600px; margin: 0 auto 2rem auto; }
        .cta-button { display: inline-block; background-color: var(--primary-color); color: var(--white-color); padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: background-color 0.3s ease, transform 0.3s ease; border: none; }
        .cta-button:hover { background-color: var(--primary-hover); transform: translateY(-3px); }
        .section-subtitle { color: #a0a0a0; margin-bottom: 4rem; text-align: center;}
        .content-page-section, .gestures-section, .gallery-section, .dashboard-section, .contact-section { padding: 6rem 0; }
        .tips-section, .literasi-section, .quiz-section { padding: 6rem 0; background-color: #1c1c1c; transition: background-color 0.3s ease;}
        h2 { text-align: center; font-size: 2.5rem; margin-bottom: 0.5rem; transition: color 0.3s ease;}
        h3, h4 { transition: color 0.3s ease; }
        .page-header { text-align: center; margin-bottom: 3rem; border-bottom: 1px solid #333; padding-bottom: 2rem; }
        .page-header h1 { font-size: 2.8rem; margin-bottom: 0.5rem; }
        .page-header p { font-size: 1.1rem; color: #a0a0a0; }
        .content-section { background-color: #1e1e1e; padding: 2rem; border-radius: var(--border-radius); }
        .content-section h2 { font-size: 1.8rem; margin-bottom: 1.5rem; color: var(--primary-color); }
        .content-section ul { list-style-position: inside; padding-left: 1rem; }
        .content-section li { margin-bottom: 0.8rem; }
        .gestures-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; }
        .gesture-card { background-color: #1e1e1e; border: 1px solid #333; padding: 1.5rem; border-radius: var(--border-radius); text-align: center; }
        .gesture-card img { width: 100%; max-width: 150px; height: 150px; object-fit: cover; border-radius: var(--border-radius); margin-bottom: 1rem; border: 2px solid #444; }
        .gesture-card h4 { font-size: 1.1rem; margin-bottom: 0.5rem; color: #f0f0f0; }
        .gesture-card p { color: #a0a0a0; font-size: 0.85rem; line-height: 1.6; }
        .tips-grid { margin-top: 4rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .tip-card { background-color: #1e1e1e; border: 1px solid #333; padding: 2rem; border-radius: var(--border-radius); text-align: center; transition: transform 0.3s ease; }
        .tip-card:hover { transform: translateY(-5px); }
        .tip-icon { font-size: 2.5rem; margin-bottom: 1rem; color: var(--primary-color); }
        .tip-card h3 { font-size: 1.3rem; margin-bottom: 0.8rem; }
        .tip-card p { color: #a0a0a0; font-size: 0.9rem; line-height: 1.6; }
        .gallery-grid { margin-top: 4rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .gallery-item { border-radius: var(--border-radius); overflow: hidden; position: relative; border: 1px solid #333; }
        .gallery-item img { width: 100%; height: 250px; object-fit: cover; display: block; transition: transform 0.4s ease; }
        .gallery-item:hover img { transform: scale(1.05); }
        .gallery-item .caption { position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(to top, rgba(0,0,0,0.85), transparent); color: var(--white-color); padding: 2rem 1rem 1rem 1rem; font-weight: 600; text-align: center; }
        .story-container { background-color: #1e1e1e; border: 1px solid #333; margin-bottom: 3rem; border-radius: var(--border-radius); overflow: hidden; }
        .story-image { width: 100%; height: auto; max-height: 400px; object-fit: cover; display: block; }
        .story-content { padding: 2.5rem; }
        .story-content h3 { font-size: 1.8rem; margin-bottom: 1.5rem; color: var(--primary-color); }
        .story-content p { margin-bottom: 1rem; color: #c0c0c0; }
        .dashboard-grid { margin-top: 4rem; display: grid; grid-template-columns: 1.5fr 1fr; gap: 2.5rem; }
        .traffic-status-column h3, .news-column h3 { font-size: 1.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid #444; padding-bottom: 1rem; }
        .status-list { list-style: none; padding: 0; }
        .status-item { display: flex; justify-content: space-between; align-items: center; padding: 1.2rem 0; border-bottom: 1px solid #333; }
        .status-item:last-child { border-bottom: none; }
        .item-location small { display: block; color: #a0a0a0; font-size: 0.8rem; }
        .item-status span { font-weight: 700; font-size: 0.9rem; }
        .item-status.status-lancar span, .item-status.status-Lancar span { color: #2ecc71; }
        .item-status.status-macet span, .item-status.status-Macet span { color: #e74c3c; }
        .item-status.status-sedang span, .item-status.status-Sedang span { color: #f1c40f; }
        .news-card { background-color: #1e1e1e; border-radius: var(--border-radius); overflow: hidden; border: 1px solid #333; margin-bottom: 1.5rem; }
        .card-image img { width: 100%; height: 150px; object-fit: cover; display: block; }
        .card-content { padding: 1.2rem; }
        .card-title a { color: #e0e0e0; text-decoration: none; transition: color 0.3s ease; }
        .card-title a:hover { color: var(--primary-color); }
        .quiz-container { background-color: #1e1e1e; border-radius: var(--border-radius); padding: 2rem; max-width: 700px; margin: 4rem auto 0 auto; border: 1px solid #333; }
        #question-text { font-size: 1.5rem; margin-bottom: 2rem; }
        .btn-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
        .btn { background-color: #333; color: #e0e0e0; border: 1px solid #555; padding: 1rem; font-size: 1.1rem; font-family: var(--font-family); border-radius: var(--border-radius); cursor: pointer; transition: background-color 0.3s ease; text-align: left; }
        .btn:hover { background-color: #444; }
        .btn.correct { background-color: var(--correct-color); color: var(--white-color); border-color: var(--correct-color); }
        .btn.wrong { background-color: var(--wrong-color); color: var(--white-color); border-color: var(--wrong-color); }
        .quiz-controls { display: flex; justify-content: center; margin-top: 2rem; }
        .hidden { display: none; }
        #results-container { text-align: center; }
        #score-text { font-size: 1.8rem; margin-bottom: 1.5rem; }
        .contact-form { max-width: 700px; margin: 3rem auto 0 auto; padding: 0; }
        .form-group { margin-bottom: 2.5rem; position: relative; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.9rem; color: #a0a0a0; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 10px 0; border: none; border-bottom: 2px solid #555; background-color: transparent; color: #e0e0e0; font-family: var(--font-family); font-size: 1.1rem; transition: border-color 0.3s ease; }
        .form-group select { background-color: #121212; padding: 10px; border: 2px solid #555; border-radius: 5px; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: var(--primary-color); }
        .contact-form .cta-button { width: 100%; border: none; cursor: pointer; font-size: 1.1rem; margin-top: 1rem; text-transform: uppercase; letter-spacing: 1px; }
        .dropdown { position: relative; display: inline-block; }
        .dropdown-content { display: none; position: absolute; background-color: #1e1e1e; min-width: 240px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.5); z-index: 1; border-radius: var(--border-radius); border: 1px solid #333; transition: background-color 0.3s ease, border-color 0.3s ease;}
        .dropdown-content a { color: #e0e0e0; padding: 12px 16px; text-decoration: none; display: block; }
        .dropdown-content a:hover { background-color: var(--primary-color); }
        .dropdown:hover .dropdown-content { display: block; }
        footer { background-color: #1c1c1c; color: var(--white-color); text-align: center; padding: 2rem 0; transition: background-color 0.3s ease; border-top: 1px solid transparent;}
        #theme-toggle { background: none; border: none; cursor: pointer; padding: 5px; color: #e0e0e0; display: flex; align-items: center; justify-content: center; }
        #theme-toggle svg { transition: transform 0.3s ease, color 0.3s ease; }
        #theme-toggle:hover svg { transform: scale(1.2); color: var(--primary-color); }
        .hamburger-menu { display: none; }
        body.light-mode { background-color: var(--bg-light); color: var(--text-light); }
        body.light-mode header { background-color: rgba(255, 255, 255, 0.95); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        body.light-mode .logo span { color: var(--text-dark); }
        body.light-mode nav ul li a { color: var(--text-dark); }
        body.light-mode .hero { background-color: var(--white-color); }
        body.light-mode h1, body.light-mode h2, body.light-mode h3, body.light-mode h4 { color: var(--text-dark); }
        body.light-mode .content-section h2, body.light-mode .story-content h3 { color: var(--primary-color); }
        body.light-mode .section-subtitle, body.light-mode p, body.light-mode small { color: var(--text-light); }
        body.light-mode .tips-section, body.light-mode .literasi-section, body.light-mode .quiz-section { background-color: var(--white-color); }
        body.light-mode .content-section, body.light-mode .gesture-card, body.light-mode .tip-card, body.light-mode .story-container, body.light-mode .dashboard-grid > div, body.light-mode .quiz-container { background-color: var(--white-color); border: 1px solid var(--border-color); box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        body.light-mode .item-location { color: var(--text-dark); }
        body.light-mode .item-status.status-lancar span, body.light-mode .item-status.status-Lancar span { color: #28a745; }
        body.light-mode .item-status.status-macet span, body.light-mode .item-status.status-Macet span { color: #dc3545; }
        body.light-mode .item-status.status-sedang span, body.light-mode .item-status.status-Sedang span { color: #ffc107; }
        body.light-mode .form-group input, body.light-mode .form-group textarea, body.light-mode .form-group select { background-color: var(--white-color); color: var(--text-dark); border-color: #ced4da; }
        body.light-mode .form-group select { background-color: var(--white-color); }
        body.light-mode .form-group input:focus, body.light-mode .form-group textarea:focus, body.light-mode .form-group select:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2); }
        body.light-mode .dropdown-content { background-color: var(--white-color); border: 1px solid var(--border-color); }
        body.light-mode .dropdown-content a { color: var(--text-dark); }
        body.light-mode .dropdown-content a:hover { background-color: var(--bg-light); }
        body.light-mode #theme-toggle { color: #212529; }
        body.light-mode footer { background-color: var(--white-color); border-top: 1px solid var(--border-color); }
        
        @media (max-width: 992px) {
    .desktop-nav {
        display: none; /* Sembunyikan menu desktop di HP */
    }
    .hamburger-menu {
        display: flex;
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
        z-index: 1001;
    }
    .hamburger-menu svg {
        width: 28px;
        height: 28px;
        color: #e0e0e0;
    }
    body.light-mode .hamburger-menu svg {
        color: var(--text-dark);
    }
    nav ul.mobile-nav { /* Ini adalah menu yang akan muncul */
        display: flex;
        position: fixed;
        top: 0;
        right: -100%; /* Sembunyikan di kanan */
        width: 280px;
        height: 100vh;
        background-color: #1e1e1e;
        flex-direction: column;
        align-items: flex-start;
        padding: 4rem 2rem 2rem;
        gap: 1.5rem;
        transition: transform 0.3s ease-in-out;
        box-shadow: -5px 0 15px rgba(0,0,0,0.2);
    }
    nav ul.mobile-nav.active {
        transform: translateX(-100%); /* Munculkan menu */
    }
    nav ul.mobile-nav li {
        margin-left: 0;
        width: 100%;
    }
    body.light-mode nav ul.mobile-nav {
        background-color: var(--white-color);
    }

            .reports-section { 
    padding: 6rem 0; 
    background-color: #1c1c1c; 
}
.reports-section h2 { 
    text-align: center; 
    font-size: 2.5rem; 
    margin-bottom: 0.5rem; 
}
#public-reports-container { 
    margin-top: 4rem; 
    display: flex; 
    flex-direction: column; 
    gap: 1.5rem; 
}
.report-card { 
    background-color: #1e1e1e; 
    border: 1px solid #333; 
    padding: 1.5rem; 
    border-radius: var(--border-radius); 
}
.report-card-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: flex-start; 
    margin-bottom: 1rem; 
    flex-wrap: wrap;
    gap: 1rem;
}
.report-card-location h4 { 
    font-size: 1.3rem; 
    margin-bottom: 0.2rem; 
    color: #f0f0f0;
}
.report-card-location small { 
    color: #a0a0a0; 
}
.report-card-tag { 
    font-size: 0.8rem; 
    font-weight: 700; 
    padding: 4px 12px; 
    border-radius: 50px; 
    background-color: #555; 
    color: var(--white-color);
    text-transform: capitalize;
}
.report-card-tag.kemacetan { background-color: #c0392b; } /* Merah */
.report-card-tag.kecelakaan { background-color: #f39c12; } /* Oranye */
.report-card-tag.jalan-rusak { background-color: #8e44ad; } /* Ungu */
.report-card-body p { 
    margin: 0; 
}
body.light-mode .reports-section { background-color: var(--white-color); }
body.light-mode .report-card { background-color: var(--bg-light); border-color: var(--border-color); }
body.light-mode .report-card-location h4 { color: var(--text-dark); }
}

/* --- Gaya untuk Panel Admin --- */
.admin-section { 
    padding: 6rem 0; 
    background-color: #34495e; /* Warna latar biru keabuan agar beda */
}
.admin-section h2 {
    color: var(--white-color);
}
#pending-reports-container {
    margin-top: 2rem;
}
.pending-report { 
    background-color: #1e1e1e; 
    border: 1px solid #555; 
    padding: 1.5rem; 
    border-radius: var(--border-radius); 
    margin-bottom: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}
.pending-report-content {
    flex-grow: 1;
}
.pending-report-content p {
    margin: 0.5rem 0;
    font-style: italic;
    color: #c0c0c0;
}
.pending-report-content small {
    font-size: 0.8rem;
    color: #888;
}
.pending-report-actions { 
    display: flex; 
    gap: 1rem; 
    flex-shrink: 0;
}
.admin-btn { 
    border: none; 
    padding: 10px 20px; 
    border-radius: 5px; 
    cursor: pointer; 
    font-weight: bold;
    color: white;
    transition: transform 0.2s ease;
}
.admin-btn:hover {
    transform: scale(1.05);
}
.approve-btn { 
    background-color: var(--correct-color); 
}
.reject-btn { 
    background-color: var(--wrong-color); 
}
body.light-mode .admin-section { background-color: #e9ecef; }
body.light-mode .admin-section h2 { color: var(--text-dark); }
body.light-mode .pending-report { background-color: var(--white-color); border-color: var(--border-color); }
body.light-mode .pending-report-content p { color: var(--text-light); }
        
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo">
                <img src="LOGOLANTAS2.png" alt="Logo">
                <span>LaluLantas</span>
            </a>
            <ul>
                <li><a href="#hero">Home</a></li>
                <li class="dropdown">
                    <a href="#edukasi">Edukasi ▼</a>
                    <div class="dropdown-content">
                        <a href="#edukasi">Tugas & Fungsi POLANTAS</a>
                        <a href="#tips-berkendara">Tips Berkendara</a>
                        <a href="#gerakan-lantas">12 Gerakan Lantas</a>
                        <a href="#galeri">Galeri Rambu</a>
                        <a href="#literasi">Cerita Literasi</a>
                    </div>
                </li>
                <li><a href="#info-terkini">Info Terkini</a></li>
                <li><a href="#quiz">Quiz</a></li>
                <li><a href="#kontak">Kontak</a></li>
                <li>
                    <button id="theme-toggle" title="Ganti Tema">
                        <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    </button>
                </li>
            </ul>
            <button class="hamburger-menu" id="hamburger-btn" aria-label="Buka Menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
        </nav>
    </header>
    <main>
        <section class="hero" id="hero">
            <div class="hero-content container">
                <h1>Selamat Datang di Website Lalu Lantas</h1>
                <p>Pusat informasi kondisi jalan dan berita lalu lintas terkini.</p>
                <a href="#info-terkini" class="cta-button">Lihat Info Terkini</a>
            </div>
        </section>

        <section id="edukasi" class="content-page-section">
            <div class="container">
                <div class="page-header">
                    <h1>Tugas dan Fungsi  Polisi Lalu Lintas</h1>
                </div>
                <section class="content-section">
                    <ul>
                        <li><strong>Pengaturan Jalan (Turjawali):</strong> Melakukan pengaturan, penjagaan, pengawalan, dan patroli di jalan raya.</li>
                        <li><strong>Pendidikan Masyarakat:</strong> Memberikan edukasi dan sosialisasi kepada masyarakat tentang keselamatan berkendara.</li>
                        <li><strong>Penegakan Hukum (Gakkum):</strong> Menindak pelanggaran lalu lintas melalui tilang untuk memberikan efek jera.</li>
                        <li><strong>Registrasi dan Identifikasi (Regident):</strong> Mengelola administrasi kendaraan seperti penerbitan SIM, STNK, dan BPKB.</li>
                        <li><strong>Penanganan Kecelakaan:</strong> Melakukan Tindakan Pertama di Tempat Kejadian Perkara (TPTKP) dan melakukan penyelidikan.</li>
                    </ul>
                </section>
            </div>
        </section>
        
        <section id="tips-berkendara" class="tips-section">
            <div class="container">
                <h2>Tips Aman Berkendara</h2>
                <div class="tips-grid">
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Jaga Jarak Aman</h3><p>Selalu beri ruang cukup dengan kendaraan di depan Anda untuk mengantisipasi pengereman mendadak.</p></div>
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Fokus Penuh</h3><p>Hindari penggunaan ponsel atau distraksi lain yang dapat mengalihkan perhatian Anda dari jalan.</p></div>
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Patuhi Rambu</h3><p>Setiap rambu lalu lintas memiliki arti penting untuk keselamatan. Kenali dan patuhi semuanya.</p></div>
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Istirahat Cukup</h3><p>Jika merasa lelah atau mengantuk, menepilah sejenak untuk beristirahat. Jangan memaksakan diri.</p></div>
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Gunakan Lampu Sein</h3><p>Nyalakan lampu sein beberapa saat sebelum berbelok atau berpindah lajur agar pengendara lain tahu niat Anda.</p></div>
                    <div class="tip-card"><div class="tip-icon">✓</div><h3>Periksa Titik Buta</h3><p>Sebelum berpindah lajur, selalu periksa area blind spot Anda dengan menoleh sejenak selain melihat spion.</p></div>
                </div>
            </div>
        </section>

        <section id="gerakan-lantas" class="gestures-section">
            <div class="container">
                <h2>12 Gerakan Pengaturan Lalu Lintas</h2>
                <div class="gestures-grid">
                    <div class="gesture-card"><img src="https://dl.kaskus.id/lh3.googleusercontent.com/-5wueODl8d84/UvjZ7bzRLOI/AAAAAAAACZk/oOK3EMBacFc/s0/tgn.jpg" alt="Stop Semua Jurusan"><h4>1. Stop Semua Jurusan</h4><p>Menghentikan kendaraan dari semua arah.</p></div>
                    <div class="gesture-card"><img src="https://dl.kaskus.id/lantas813.files.wordpress.com/2010/06/lts10.jpg" alt="Stop Arah Tertentu"><h4>2. Stop Arah Tertentu</h4><p>Menghentikan kendaraan dari satu arah tertentu.</p></div>
                    <div class="gesture-card"><img src="https://dl.kaskus.id/lh3.googleusercontent.com/-_5KzaRH8Iw0/UvjbVWIdGBI/AAAAAAAACaA/N_4uJOtac8g/s0/lts41.jpg" alt="Stop Arah Depan"><h4>3. Stop Arah Depan</h4><p>Menghentikan kendaraan dari arah depan petugas.</p></div>
                    <div class="gesture-card"><img src="https://dl.kaskus.id/lantas813.files.wordpress.com/2010/06/lts6.jpg" alt="Stop Arah Belakang"><h4>4. Stop Arah Belakang</h4><p>Menghentikan kendaraan dari arah belakang petugas.</p></div>
                    <div class="gesture-card"><img src="https://dl.kaskus.id/lantas813.files.wordpress.com/2010/06/lts8.jpg" alt="Stop Depan & Belakang"><h4>5. Stop Depan & Belakang</h4><p>Menghentikan kendaraan dari arah depan dan belakang.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757944716448-ddfdad58-fd6f-4f8a-8114-52ada552d189.jpg" alt="Jalan Arah Kanan Petugas"><h4>6. Jalan Arah Kanan</h4><p>Memperjalankan kendaraan dari arah kanan petugas.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757944843047-de982ff0-a14e-4fc6-a8f7-c6e870ce68e6.jpg" alt="Jalan Arah Kiri Petugas"><h4>7. Jalan Arah Kiri</h4><p>Memperjalankan kendaraan dari arah kiri petugas.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757945539706-4fa2ddf8-ce6c-4ba9-9ce5-381602c7c3ea.jpg" alt="Jalan Arah Kanan & Kiri"><h4>8. Jalan Kanan & Kiri</h4><p>Memperjalankan kendaraan dari arah kanan dan kiri.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757945025281-3a24d7a5-b382-4dd1-8181-5cb2bd68b68c.jpg" alt="Percepat Arah Kanan"><h4>9. Percepat Arah Kanan</h4><p>Mempercepat laju kendaraan dari arah kanan.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757945116181-8d10fe6e-e76a-4904-8ce4-f196437f3f68.jpg" alt="Percepat Arah Kiri"><h4>10. Percepat Arah Kiri</h4><p>Mempercepat laju kendaraan dari arah kiri.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757945220120-96c5d968-3d1a-4a29-b9e6-b4bc927decbe.jpg" alt="Perlambat Arah Depan"><h4>11. Perlambat Arah Depan</h4><p>Memperlambat laju kendaraan dari arah depan.</p></div>
                    <div class="gesture-card"><img src="https://image2url.com/images/1757945297234-c42432fa-1575-4530-bbf9-52d2efa2aacf.jpg" alt="Perlambat Arah Belakang"><h4>12. Perlambat Arah Belakang</h4><p>Memperlambat laju kendaraan dari arah belakang.</p></div>
                </div>
            </div>
        </section>

        <section id="galeri" class="gallery-section">
            <div class="container">
                <h2>Galeri Rambu Lalu Lintas</h2>
                <div class="gallery-grid">
                    <div class="gallery-item"><img src="https://e7.pngegg.com/pngimages/609/493/png-clipart-stop-sign-traffic-sign-floor-marking-tape-rambu-rambu-text-rectangle.png" alt="Rambu Stop"><div class="caption">Rambu Stop</div></div>
                    <div class="gallery-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLJxCxnpUFhKRCsTqDrvUibzV7lXqkZGdFy4iiyVm4Q28KiMzC8SxexIQJo6WWj2fVIyM&usqp=CAU" alt="Rambu Dilarang Parkir"><div class="caption">Dilarang Parkir</div></div>
                    <div class="gallery-item"><img src="https://png.pngtree.com/png-clipart/20220816/ourmid/pngtree-traffic-light-signs-png-image_6112212.png" alt="Lampu Merah"><div class="caption">Lampu Merah</div></div>
                    <div class="gallery-item"><img src="https://w7.pngwing.com/pngs/619/371/png-transparent-south-korea-u-turn-traffic-sign-warning-sign-road-sign-miscellaneous-blue-text-thumbnail.png" alt="Rambu Putar Balik"><div class="caption">Wajib Putar Balik</div></div>
                    <div class="gallery-item"><img src="https://upload.wikimedia.org/wikipedia/commons/8/85/ID_Rambu_peringatan_8a.svg" alt="Rambu Hati-Hati"><div class="caption">Hati-Hati</div></div>
                    <div class="gallery-item"><img src="https://media.istockphoto.com/id/1340234975/id/vektor/rambu-lalu-lintas-kecepatan-maksimum-60-km-jam.jpg?s=170667a&w=0&k=20&c=mBigsdkwBQUaD5pMewlR8fgtFlsSO9hAKFDCQblzm7c=" alt="Rambu Batas Kecepatan"><div class="caption">Batas Kecepatan 60 km/j</div></div>
                </div>
            </div>
        </section>
        
        <section id="literasi" class="literasi-section">
            <div class="container">
                <h2>Literasi Lalu Lintas</h2>
                <p class="section-subtitle">Belajar keselamatan melalui cerita yang menarik.</p>
                <div class="literasi-list">
                    <div class="story-container"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk_1F9nzKcvwJHvwcXj77_h5RxALaoyKJXCw&s" alt="Anak memakai helm" class="story-image"><div class="story-content"><h3>Kisah Ardi dan Helm Ajaib</h3><p>Ardi adalah anak yang ceria, namun ia paling tidak suka memakai helm saat dibonceng ayahnya dengan motor. "Ayah, helm ini berat dan panas!" keluhnya setiap pagi.</p><p>Suatu hari, Ayah tersenyum dan berkata, "Ardi, ini bukan helm biasa. Ini adalah helm ajaib. Ia punya kekuatan super untuk melindungi kepala pahlawan super sepertimu dari bahaya."</p><p>Ardi pun penasaran dan setuju memakainya. Di perjalanan, mereka melihat ada anak yang sepedanya oleng dan terjatuh pelan. Kepala anak itu tidak apa-apa karena terbentur helmnya. "Lihat, Nak," kata Ayah. "Helm anak itu juga punya kekuatan super."</p><p>Sejak saat itu, Ardi tidak pernah lagi mengeluh. Ia sadar, keajaiban helm bukanlah sihir, melainkan rasa aman yang diberikannya. Ia pun selalu memakai "helm ajaib"-nya dengan bangga setiap kali bepergian.</p></div></div>
                    <div class="story-container"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUxG451ESDPyjDAEs-mNG36FtGLDpIKKcsbw&s" alt="Keluarga memakai sabuk pengaman" class="story-image"><div class="story-content"><h3>Petualangan Keluarga Rina dan Sabuk Pengaman</h3><p>Keluarga Rina selalu antusias setiap kali pergi berlibur. Ayah Rina selalu mengingatkan, "Siapa cepat pakai sabuk pengaman, dia dapat kue!" Rina dan adiknya, Doni, langsung berlomba.</p><p>Suatu sore, saat mereka pulang dari piknik, tiba-tiba ada kucing menyeberang jalan. Ayah Rina reflek mengerem mendadak. Semua barang di jok belakang bergeser, tapi Rina dan Doni tetap aman di kursi mereka.</p><p>"Wah, sabuk pengaman ini benar-benar penyelamat!" seru Doni kaget. Rina mengangguk setuju. Mereka berdua paham, sabuk pengaman bukan hanya aturan, tapi juga pelindung setia dalam setiap petualangan.</p></div></div>
                    <div class="story-container"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRaqc65QARdWTHkQAT8_aN8hBvyiUEbOxjeyw&s" alt="Pengendara motor di lampu merah" class="story-image"><div class="story-content"><h3>Keputusan Cepat Pak Budi</h3><p>Pak Budi buru-buru pergi ke kantor. Saat sampai di persimpangan, lampu lalu lintas sudah kuning, hampir merah. Pak Budi tergoda untuk tancap gas agar tidak terlambat.</p><p>Namun, ia teringat cerita kecelakaan yang pernah terjadi di persimpangan itu karena terobos lampu merah. Ia menghela napas, menginjak rem, dan berhenti tepat di garis.</p><p>Detik berikutnya, sebuah mobil dari arah berlawanan melaju kencang. Jika Pak Budi menerobos, pasti akan terjadi tabrakan. Pak Budi tersenyum lega. Sedikit terlambat lebih baik daripada tidak sampai sama sekali.</p></div></div>
                    <div class="story-container"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZMNPOOuG9plVBQyYcO7DesuYg8DRJ_KxUFw&s" alt="Pejalan kaki menyeberang" class="story-image"><div class="story-content"><h3>Senyum Tulus Ibu Mia</h3><p>Ibu Mia sedang menyeberang jalan di zebra cross, membawa banyak belanjaan. Beberapa kendaraan melintas cepat, seolah tidak melihatnya. Ibu Mia mulai putus asa.</p><p>Tiba-tiba, sebuah mobil berhenti di depannya. Pengemudi itu melambaikan tangan, mempersilakan Ibu Mia menyeberang. Ibu Mia tersenyum lebar, merasa sangat terbantu.</p><p>Pengemudi itu adalah Reno, seorang anak muda. Ia tahu betapa pentingnya menghormati hak pejalan kaki. Baginya, sedikit kesabaran di jalan bisa menciptakan senyuman dan keamanan bagi semua.</p></div></div>
                    <div class="story-container"><img src="https://www.msig.co.id/sites/msig_id/files/2022-03/e66_did_-_you_know_-_berkendara_saat_hujan_04.png" alt="Mobil berkendara di hujan" class="story-image"><div class="story-content"><h3>Pelajaran Hujan Deras</h3><p>Malam itu hujan sangat deras, jarak pandang terbatas. Dani, yang baru punya SIM, merasa sedikit cemas saat mengendarai motornya. Ia ingin cepat sampai rumah.</p><p>Ia ingat pesan ayahnya, "Jika hujan, kurangi kecepatan, nyalakan lampu, dan jaga jarak lebih jauh." Dani pun mengikuti nasihat itu. Ia berkendara perlahan, fokus, dan menghindari genangan air.</p><p>Meskipun lebih lama sampai, Dani tiba di rumah dengan selamat. Ia belajar bahwa keselamatan jauh lebih berharga daripada kecepatan, terutama dalam kondisi cuaca buruk.</p></div></div>
                </div>
            </div>
        </section>

        <section id="info-terkini" class="dashboard-section">
            <div class="container">
                <h2>Info Terkini</h2>
                <div class="dashboard-grid">
                    <div class="traffic-status-column">
                        <h3>Status Lalu Lintas</h3>
                        <ul class="status-list">
                            <li class="status-item"><div class="item-location"><span>Jln.Sman 2 Taruna Bhayangkara</span><small>Banyuwangi</small></div><div class="item-status status-lancar"><span>Lancar</span></div></li>
                            <li class="status-item"><div class="item-location"><span>Jln.Brawijaya</span><small>Jember</small></div><div class="item-status status-macet"><span>Macet</span></div></li>
                            <li class="status-item"><div class="item-location"><span>Jln.Gajah Mada</span><small>Jember</small></div><div class="item-status status-sedang"><span>Sedang</span></div></li>
                            <li class="status-item"><div class="item-location"><span>Jln.Nasional III</span><small>Jember</small></div><div class="item-status status-lancar"><span>Lancar</span></div></li>
                        </ul>
                    </div>
                    <div class="news-column">
                        <h3>Berita Utama</h3>
                        <div class="news-card"><div class="card-image"><img src="https://img2.beritasatu.com/cache/beritasatu/960x620-3/2025/09/1757918903-1927x1080.webp" alt="Ganjil Genap"></div><div class="card-content"><h3 class="card-title"><a href="https://www.beritasatu.com/jatim/2922553/baru-sebulan-beroperasi-warga-lamongan-blokade-jalan-lintas-utara#goog_rewarded" target="_blank">Warga Lamongan Blokade Jalur JLU</a></h3></div></div>
                        <div class="news-card"><div class="card-image"><img src="https://img.antaranews.com/cache/1200x800/2025/09/11/1001974544_1.jpg.webp" alt="Jalan Tol Baru"></div><div class="card-content"><h3 class="card-title"><a href="https://jatim.antaranews.com/berita/973561/seorang-pelajar-tewas-dalam-kecelakaan-lalu-lintas-di-bojonegoro" target="_blank">Pelajar Bojonegoro Tewas Kecelakaan Lalu Lintas</a></h3></div></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="quiz-section">
            <div class="container">
                <h2>Uji Pengetahuan Anda!</h2>
                <p class="section-subtitle">Seberapa jauh Anda memahami aturan lalu lintas? Coba quiz singkat ini!</p>
                <div class="quiz-container">
                    <div id="question-container"><h3 id="question-text"></h3><div id="answer-buttons" class="btn-grid"></div></div>
                    <div id="results-container" class="hidden"><p id="score-text"></p><button id="restart-btn" class="cta-button">Ulangi Quiz</button></div>
                    <div class="quiz-controls"><button id="next-btn" class="cta-button hidden">Berikutnya</button></div>
                </div>
            </div>
        </section>

<section id="admin-panel" class="admin-section hidden">
    <div class="container">
        <h2>Panel Moderasi Laporan</h2>
        <div id="pending-reports-container">
            <p>Memuat laporan yang butuh persetujuan...</p>
        </div>
    </div>
</section>
        
        <section id="laporan-publik" class="reports-section">
    <div class="container">
        <h2>Laporan Publik Terverifikasi</h2>
        <p class="section-subtitle">Kumpulan laporan dari masyarakat yang sudah kami verifikasi.</p>
        <div id="public-reports-container">
            <p id="loading-reports">Memuat laporan...</p>
        </div>
    </div>
</section>
        
        <section id="kontak" class="contact-section">
            <div class="container">
                <h2>Kontak & Laporan</h2>
                <p class="section-subtitle">Punya pertanyaan atau ingin melaporkan insiden? Gunakan form di bawah ini.</p>
                <form id="contact-form" class="contact-form">
                    <div class="form-group"><label for="name">Nama Pelapor</label><input type="text" id="name" name="name" required></div>
                    <div class="form-group"><label for="email">Email Anda</label><input type="email" id="email" name="email" required></div>
                    <div class="form-group"><label for="report-type">Jenis Laporan</label><select id="report-type" name="report-type"><option value="kemacetan">Kemacetan</option><option value="kecelakaan">Kecelakaan</option><option value="jalan-rusak">Jalan Rusak</option><option value="pelanggaran">Pelanggaran Lalu Lintas</option><option value="lainnya">Lainnya...</option></select></div>
                    <div class="form-group"><label for="location">Lokasi Kejadian</label><input type="text" id="location" name="location" placeholder="Contoh: Jl. Sudirman dekat Bundaran HI"></div>
                    <div class="form-group"><label for="city">Pilih Kota/Kabupaten di Jawa Timur</label><select id="city" name="city"><option value="">-- Pilih Lokasi --</option><option value="surabaya">Surabaya</option><option value="malang">Malang</option><option value="sidoarjo">Sidoarjo</option><option value="gresik">Gresik</option><option value="jember">Jember</option><option value="banyuwangi">Banyuwangi</option><option value="kediri">Kediri</option><option value="mojokerto">Mojokerto</option><option value="pasuruan">Pasuruan</option><option value="probolinggo">Probolinggo</option><option value="madiun">Madiun</option><option value="lamongan">Lamongan</option><option value="tuban">Tuban</option><option value="bangkalan">Bangkalan</option><option value="sampang">Sampang</option><option value="pamekasan">Pamekasan</option><option value="sumenep">Sumenep</option></select></div>
                    <div class="form-group"><label for="message">Detail Laporan</label><textarea id="message" name="message" rows="5" required></textarea></div>
                    <button type="submit" class="cta-button">Kirim Laporan</button>
                </form>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 LaluLantas. Dirancang dengan ❤️.</p>
        </div>
    </footer>

    <script>
        const questionContainer = document.getElementById('question-container');
        const questionText = document.getElementById('question-text');
        const answerButtons = document.getElementById('answer-buttons');
        const nextBtn = document.getElementById('next-btn');
        const resultsContainer = document.getElementById('results-container');
        const scoreText = document.getElementById('score-text');
        const restartBtn = document.getElementById('restart-btn');
        const questions = [
            { question: 'Apa arti dari rambu STOP?', answers: [ { text: 'Wajib berhenti sesaat dan melanjutkan jika aman', correct: true }, { text: 'Boleh jalan terus jika sepi', correct: false }, { text: 'Hanya kurangi kecepatan', correct: false }, { text: 'Berhenti hanya jika ada polisi', correct: false } ] },
            { question: 'Saat lampu lalu lintas menyala KUNING, apa yang harus dilakukan pengemudi?', answers: [ { text: 'Menambah kecepatan agar tidak kena lampu merah', correct: false }, { text: 'Langsung berhenti di tempat', correct: false }, { text: 'Bersiap-siap untuk berhenti karena akan merah', correct: true }, { text: 'Membunyikan klakson', correct: false } ] },
            { question: 'Fungsi utama sabuk pengaman adalah untuk...', answers: [ { text: 'Menjaga agar tidak ditilang polisi', correct: false }, { text: 'Menahan tubuh saat terjadi benturan atau rem mendadak', correct: true }, { text: 'Membuat nyaman saat menyetir', correct: false }, { text: 'Sebagai hiasan interior mobil', correct: false } ] },
            { question: 'Di area Zebra Cross, siapa yang mendapatkan prioritas utama untuk menyeberang?', answers: [ { text: 'Pengendara motor', correct: false }, { text: 'Mobil', correct: false }, { text: 'Pejalan kaki', correct: true }, { text: 'Sepeda', correct: false } ] },
            { question: 'Apa yang harus Anda lakukan jika mendengar sirine ambulans dari belakang?', answers: [ { text: 'Menambah kecepatan', correct: false }, { text: 'Menepi dan memberikan jalan', correct: true }, { text: 'Tetap di lajur dan menjaga kecepatan', correct: false }, { text: 'Mengerem mendadak', correct: false } ] },
            { question: 'Rambu dengan huruf "P" dicoret berarti...', answers: [ { text: 'Area parkir khusus', correct: false }, { text: 'Dilarang berhenti (stop)', correct: false }, { text: 'Dilarang parkir', correct: true }, { text: 'Boleh parkir sebentar', correct: false } ] },
            { question: 'Apa fungsi dari "titik buta" atau blind spot pada kendaraan?', answers: [ { text: 'Area di sekitar kendaraan yang tidak terlihat melalui spion', correct: true }, { text: 'Sensor parkir di belakang mobil', correct: false }, { text: 'Lampu sorot jarak jauh', correct: false }, { text: 'Titik di mana bahan bakar paling irit', correct: false } ] },
            { question: 'Saat mengendarai motor, perlengkapan paling vital untuk keselamatan kepala adalah...', answers: [ { text: 'Kacamata hitam', correct: false }, { text: 'Jaket tebal', correct: false }, { text: 'Helm berstandar SNI', correct: true }, { text: 'Sarung tangan', correct: false } ] }
        ];
        let currentQuestionIndex = 0, score = 0;
        function startQuiz() { currentQuestionIndex = 0; score = 0; nextBtn.classList.add('hidden'); resultsContainer.classList.add('hidden'); questionContainer.classList.remove('hidden'); showQuestion(); }
        function showQuestion() {
            resetState();
            let currentQuestion = questions[currentQuestionIndex];
            questionText.innerText = currentQuestion.question;
            currentQuestion.answers.forEach(answer => {
                const button = document.createElement('button');
                button.innerText = answer.text;
                button.classList.add('btn');
                if (answer.correct) { button.dataset.correct = answer.correct; }
                button.addEventListener('click', selectAnswer);
                answerButtons.appendChild(button);
            });
        }
        function resetState() { nextBtn.classList.add('hidden'); while (answerButtons.firstChild) { answerButtons.removeChild(answerButtons.firstChild); } }
        function selectAnswer(e) {
            const selectedBtn = e.target;
            const isCorrect = selectedBtn.dataset.correct === 'true';
            if (isCorrect) { score++; }
            Array.from(answerButtons.children).forEach(button => {
                setStatusClass(button, button.dataset.correct === 'true');
                button.disabled = true;
            });
            nextBtn.classList.remove('hidden');
        }
        function setStatusClass(element, correct) { if (correct) { element.classList.add('correct'); } else { element.classList.add('wrong'); } }
        function showResults() { questionContainer.classList.add('hidden'); resultsContainer.classList.remove('hidden'); scoreText.innerText = `Skor Anda: ${score} dari ${questions.length} benar!`; }
        nextBtn.addEventListener('click', () => { currentQuestionIndex++; if (currentQuestionIndex < questions.length) { showQuestion(); } else { showResults(); } });
        restartBtn.addEventListener('click', startQuiz);
        startQuiz();
    </script>
    <script>
    // --- KODE JAVASCRIPT UNTUK PENGALIH TEMA & HAMBURGER ---

    // --- Logika untuk Pengalih Tema ---
    const themeToggleBtn = document.getElementById('theme-toggle');
    const body = document.body;
    const iconMoon = document.getElementById('icon-moon');
    const iconSun = document.getElementById('icon-sun');

    function updateIcon(isLightMode) {
        if (isLightMode) {
            iconMoon.classList.add('hidden');
            iconSun.classList.remove('hidden');
        } else {
            iconMoon.classList.remove('hidden');
            iconSun.classList.add('hidden');
        }
    }
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
        body.classList.add('light-mode');
        updateIcon(true);
    } else {
        updateIcon(false);
    }
    themeToggleBtn.addEventListener('click', () => {
        body.classList.toggle('light-mode');
        const isLightMode = body.classList.contains('light-mode');
        if (isLightMode) {
            localStorage.setItem('theme', 'light');
        } else {
            localStorage.setItem('theme', 'dark');
        }
        updateIcon(isLightMode);
    });

    // --- Logika untuk Menu Hamburger ---
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const navMenu = document.querySelector('nav ul.mobile-nav');

    hamburgerBtn.addEventListener('click', () => {
        navMenu.classList.toggle('active');
    });

    navMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            navMenu.classList.remove('active');
        });
    });
</script>
        
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script type="module">
        // 1. Impor fungsi baru: doc, updateDoc, deleteDoc
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp, query, where, orderBy, limit, onSnapshot, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";

    // GANTI DENGAN KODE firebaseConfig ANDA
    const firebaseConfig = {
        apiKey: "AIzaSyCF8eXRIQMNYQdsRuFj-qWpz3J0hzV8tpo",
        authDomain: "lalulintas-v2.firebaseapp.com",
        projectId: "lalulintas-v2",
        storageBucket: "lalulintas-v2.firebasestorage.app",
        messagingSenderId: "850945038170",
        appId: "1:850945038170:web:590762ff3b26593befc563"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // --- Logika Mengirim Form (ke Ruang Tunggu) ---
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
        contactForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            // ... (kode pengiriman form Anda tetap sama)
        });
    }

    // --- Logika Menampilkan Laporan Publik ---
    const reportsContainer = document.getElementById('public-reports-container');
    // ... (kode menampilkan laporan publik Anda tetap sama)


    // ===============================================
    // KODE BARU UNTUK PANEL ADMIN (TAMBAHKAN INI)
    // ===============================================
    const adminPanel = document.getElementById('admin-panel');
    const pendingReportsContainer = document.getElementById('pending-reports-container');

    // Cek apakah URL berisi ?admin=true
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('admin') === 'true') {
        adminPanel.classList.remove('hidden'); // Tampilkan panel admin
        loadPendingReports(); // Muat laporan yang menunggu persetujuan
    }

    function loadPendingReports() {
        const pendingQuery = query(collection(db, "laporan"), where("status", "==", "pending"), orderBy("waktuLaporan", "asc"));
        
        onSnapshot(pendingQuery, (snapshot) => {
            if (!pendingReportsContainer) return;
            pendingReportsContainer.innerHTML = '';
            if (snapshot.empty) {
                pendingReportsContainer.innerHTML = '<p>Tidak ada laporan yang menunggu persetujuan. Kerja bagus!</p>';
                return;
            }
            snapshot.forEach(docSnapshot => {
                const report = docSnapshot.data();
                const reportEl = document.createElement('div');
                reportEl.className = 'pending-report';
                reportEl.innerHTML = `
                    <div class="pending-report-content">
                        <strong>${report.lokasiKejadian}, ${report.kota}</strong>
                        <p>"${report.detailLaporan}"</p>
                        <small>Pelapor: ${report.namaPelapor} (${report.emailPelapor})</small>
                    </div>
                    <div class="pending-report-actions">
                        <button class="admin-btn approve-btn" data-id="${docSnapshot.id}">Setujui</button>
                        <button class="admin-btn reject-btn" data-id="${docSnapshot.id}">Tolak</button>
                    </div>
                `;
                pendingReportsContainer.appendChild(reportEl);
            });
        });
    }

    // Fungsi untuk tombol "Setujui" dan "Tolak"
    if (pendingReportsContainer) {
        pendingReportsContainer.addEventListener('click', async (e) => {
            const target = e.target;
            if (target.classList.contains('admin-btn')) {
                const docId = target.dataset.id;
                if (!docId) return;

                target.disabled = true; // Nonaktifkan tombol sementara

                if (target.classList.contains('approve-btn')) {
                    const docRef = doc(db, "laporan", docId);
                    await updateDoc(docRef, { status: "approved" });
                    console.log(`Laporan ${docId} disetujui.`);
                }
                if (target.classList.contains('reject-btn')) {
                    const docRef = doc(db, "laporan", docId);
                    await deleteDoc(docRef);
                    console.log(`Laporan ${docId} ditolak dan dihapus.`);
                }
            }
        });
    }
</script>
    
</body>
</html>
